import{S as oe,i as re,s as ce,y as C,z as E,A as S,g as _,d as v,B as A,W as pe,o as _e,a as P,c as V,b as I,h as f,k as d,q as L,l as g,m as h,r as N,Y as ee,n as p,V as m,G as $e,u as j,e as te,v as ie,f as fe,_ as de,Z as ge}from"./index.fe0a1c86.js";import{C as he,a as ve}from"./ActionIcons.2788abc4.js";import{A as be}from"./Actions.a7c78e01.js";import{B as me,C as De}from"./Button.54000be3.js";import"./Subheader.b2cb5b88.js";import{g as J}from"./navigation.a03ee98f.js";import{p as Ie}from"./stores.ba3acca9.js";function ke(r){let t,l,e,s,n,a,o,i,c,b=r[0].name+"",k,T,D,q,B=r[0].publicID+"",y,U,M,Y=new Date(r[0].creationTimeStamp).toLocaleString()+"",z,W,w,G=r[0].content+"",Z,K;return{c(){t=d("div"),l=d("div"),e=d("img"),a=P(),o=d("div"),i=d("div"),c=d("span"),k=L(b),T=P(),D=d("span"),q=d("span"),y=L(B),U=P(),M=d("span"),z=L(Y),W=P(),w=d("div"),this.h()},l($){t=g($,"DIV",{class:!0});var u=h(t);l=g(u,"DIV",{class:!0});var O=h(l);e=g(O,"IMG",{src:!0,alt:!0,class:!0}),O.forEach(f),a=V(u),o=g(u,"DIV",{class:!0});var H=h(o);i=g(H,"DIV",{class:!0});var R=h(i);c=g(R,"SPAN",{class:!0});var Q=h(c);k=N(Q,b),Q.forEach(f),T=V(R),D=g(R,"SPAN",{class:!0});var F=h(D);q=g(F,"SPAN",{});var X=h(q);y=N(X,B),X.forEach(f),U=V(F),M=g(F,"SPAN",{});var x=h(M);z=N(x,Y),x.forEach(f),F.forEach(f),R.forEach(f),W=V(H),w=g(H,"DIV",{class:!0});var ue=h(w);ue.forEach(f),H.forEach(f),u.forEach(f),this.h()},h(){ee(e.src,s=r[1])||p(e,"src",s),p(e,"alt",n=r[0].name),p(e,"class","svelte-1cs108n"),p(l,"class","image svelte-1cs108n"),p(c,"class","primary svelte-1cs108n"),p(D,"class","secondary svelte-1cs108n"),p(i,"class","header svelte-1cs108n"),p(w,"class","commentcontent svelte-1cs108n"),p(o,"class","body"),p(t,"class","commentcontainer svelte-1cs108n")},m($,u){I($,t,u),m(t,l),m(l,e),m(t,a),m(t,o),m(o,i),m(i,c),m(c,k),m(i,T),m(i,D),m(D,q),m(q,y),m(D,U),m(D,M),m(M,z),m(o,W),m(o,w),w.innerHTML=G,Z||(K=$e(c,"click",r[3]),Z=!0)},p($,u){u&2&&!ee(e.src,s=$[1])&&p(e,"src",s),u&1&&n!==(n=$[0].name)&&p(e,"alt",n),u&1&&b!==(b=$[0].name+"")&&j(k,b),u&1&&B!==(B=$[0].publicID+"")&&j(y,B),u&1&&Y!==(Y=new Date($[0].creationTimeStamp).toLocaleString()+"")&&j(z,Y),u&1&&G!==(G=$[0].content+"")&&(w.innerHTML=G)},d($){$&&f(t),Z=!1,K()}}}function we(r){let t;return{c(){t=L("Parent")},l(l){t=N(l,"Parent")},m(l,e){I(l,t,e)},d(l){l&&f(t)}}}function ne(r){let t,l;return t=new me({props:{$$slots:{default:[Ee]},$$scope:{ctx:r}}}),t.$on("click",r[5]),{c(){C(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){S(t,e,s),l=!0},p(e,s){const n={};s&64&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){v(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Ce(r){let t;return{c(){t=L("Edit")},l(l){t=N(l,"Edit")},m(l,e){I(l,t,e)},d(l){l&&f(t)}}}function Ee(r){let t,l;return t=new De({props:{$$slots:{default:[Ce]},$$scope:{ctx:r}}}),{c(){C(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){S(t,e,s),l=!0},p(e,s){const n={};s&64&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){v(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Se(r){let t,l,e,s;t=new me({props:{$$slots:{default:[we]},$$scope:{ctx:r}}}),t.$on("click",r[4]);let n=r[2].data.user&&r[2].data.user.publicID===r[0].publicID&&ne(r);return{c(){C(t.$$.fragment),l=P(),n&&n.c(),e=te()},l(a){E(t.$$.fragment,a),l=V(a),n&&n.l(a),e=te()},m(a,o){S(t,a,o),I(a,l,o),n&&n.m(a,o),I(a,e,o),s=!0},p(a,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:a}),t.$set(i),a[2].data.user&&a[2].data.user.publicID===a[0].publicID?n?(n.p(a,o),o&5&&_(n,1)):(n=ne(a),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),fe())},i(a){s||(_(t.$$.fragment,a),_(n),s=!0)},o(a){v(t.$$.fragment,a),v(n),s=!1},d(a){A(t,a),a&&f(l),n&&n.d(a),a&&f(e)}}}function Ae(r){let t,l,e,s;return t=new ve({props:{class:"mdc-typography--body2",$$slots:{default:[ke]},$$scope:{ctx:r}}}),e=new be({props:{$$slots:{default:[Se]},$$scope:{ctx:r}}}),{c(){C(t.$$.fragment),l=P(),C(e.$$.fragment)},l(n){E(t.$$.fragment,n),l=V(n),E(e.$$.fragment,n)},m(n,a){S(t,n,a),I(n,l,a),S(e,n,a),s=!0},p(n,a){const o={};a&67&&(o.$$scope={dirty:a,ctx:n}),t.$set(o);const i={};a&69&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){s||(_(t.$$.fragment,n),_(e.$$.fragment,n),s=!0)},o(n){v(t.$$.fragment,n),v(e.$$.fragment,n),s=!1},d(n){A(t,n),n&&f(l),A(e,n)}}}function Pe(r){let t,l;return t=new he({props:{$$slots:{default:[Ae]},$$scope:{ctx:r}}}),{c(){C(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){S(t,e,s),l=!0},p(e,[s]){const n={};s&71&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){v(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Ve(r,t,l){let e;pe(r,Ie,c=>l(2,e=c));let s="",{comment:n={parentID:"",name:"",publicID:"",profileImage:"",content:"",comments:[],creationTimeStamp:Date.now()}}=t;_e(async()=>{if(s.length===0){let b=await(await fetch(`/api/${n.publicID}/profilepic`)).blob(),k=new FileReader;k.readAsDataURL(b),k.onload=T=>{l(1,s=T.target.result)}}});const a=()=>J(`/${n.publicID}`),o=()=>J(n.parentID.includes("Comment")?"/":`/post/${n.parentID}`),i=()=>J(`/${e.data.user.publicID}/edit/comment?commentID=${n.commentID}`);return r.$$set=c=>{"comment"in c&&l(0,n=c.comment)},[n,s,e,a,o,i]}class Le extends oe{constructor(t){super(),re(this,t,Ve,Pe,ce,{comment:0})}}function se(r,t,l){const e=r.slice();return e[2]=t[l],e}function le(r){let t,l;return{c(){t=d("p"),l=L("Your comments here.")},l(e){t=g(e,"P",{});var s=h(t);l=N(s,"Your comments here."),s.forEach(f)},m(e,s){I(e,t,s),m(t,l)},p:ge,d(e){e&&f(t)}}}function ae(r){let t,l;return t=new Le({props:{comment:r[2],profile:r[1]}}),{c(){C(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){S(t,e,s),l=!0},p(e,s){const n={};s&1&&(n.comment=e[2]),s&2&&(n.profile=e[1]),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){v(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Ne(r){let t,l,e=r[0],s=[];for(let o=0;o<e.length;o+=1)s[o]=ae(se(r,e,o));const n=o=>v(s[o],1,1,()=>{s[o]=null});let a=null;return e.length||(a=le()),{c(){t=d("div");for(let o=0;o<s.length;o+=1)s[o].c();a&&a.c(),this.h()},l(o){t=g(o,"DIV",{class:!0});var i=h(t);for(let c=0;c<s.length;c+=1)s[c].l(i);a&&a.l(i),i.forEach(f),this.h()},h(){p(t,"class","comments svelte-zbkuql")},m(o,i){I(o,t,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(t,null);a&&a.m(t,null),l=!0},p(o,[i]){if(i&3){e=o[0];let c;for(c=0;c<e.length;c+=1){const b=se(o,e,c);s[c]?(s[c].p(b,i),_(s[c],1)):(s[c]=ae(b),s[c].c(),_(s[c],1),s[c].m(t,null))}for(ie(),c=e.length;c<s.length;c+=1)n(c);fe(),!e.length&&a?a.p(o,i):e.length?a&&(a.d(1),a=null):(a=le(),a.c(),a.m(t,null))}},i(o){if(!l){for(let i=0;i<e.length;i+=1)_(s[i]);l=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)v(s[i]);l=!1},d(o){o&&f(t),de(s,o),a&&a.d()}}}function Te(r,t,l){let{comments:e=[]}=t,{profile:s=""}=t;return r.$$set=n=>{"comments"in n&&l(0,e=n.comments),"profile"in n&&l(1,s=n.profile)},[e,s]}class He extends oe{constructor(t){super(),re(this,t,Te,Ne,ce,{comments:0,profile:1})}}export{He as C};
