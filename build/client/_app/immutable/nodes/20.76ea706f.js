import{r as ne}from"../chunks/index.ade5cbd2.js";import{S as ee,i as te,s as ae,y as w,z as E,A as C,g as S,d as y,B as A,W as Z,a as I,c as b,b as D,h as i,k as p,q as L,l as d,m as g,r as j,Y as x,n as f,a2 as se,V as u,G as oe,u as R,$ as re}from"../chunks/index.fe0a1c86.js";import{C as le,a as ce}from"../chunks/ActionIcons.2788abc4.js";import{A as me}from"../chunks/Actions.a7c78e01.js";import{B as ie,C as fe}from"../chunks/Button.54000be3.js";/* empty css                                                            */import{p as ue}from"../chunks/stores.69f96dac.js";import{p as pe}from"../chunks/stores.d0fe406c.js";import{g as de}from"../chunks/navigation.186fefac.js";async function $e({fetch:l,params:t,url:a}){if(!(a.host==="satirigal.com"||a.host==="localhost:5173"||a.host==="localhost:4173"||a.host==="localhost:3000"))throw ne(301,"https://satirigal.com");let e=a.searchParams.get("commentID");return{comment:await(await l(`/api/comment/${e}`)).json()}}const je=Object.freeze(Object.defineProperty({__proto__:null,load:$e},Symbol.toStringTag,{value:"Module"}));function _e(l){let t,a,e,r,n,s,o,c,m,T=l[0].name+"",B,G,v,P,k=l[0].publicID+"",q,F,N,V=new Date(l[0].creationTimeStamp).toLocaleString()+"",M,J,h,K,W;return{c(){t=p("div"),a=p("div"),e=p("img"),s=I(),o=p("div"),c=p("div"),m=p("span"),B=L(T),G=I(),v=p("span"),P=p("span"),q=L(k),F=I(),N=p("span"),M=L(V),J=I(),h=p("div"),this.h()},l($){t=d($,"DIV",{class:!0});var _=g(t);a=d(_,"DIV",{class:!0});var Y=g(a);e=d(Y,"IMG",{src:!0,alt:!0,class:!0}),Y.forEach(i),s=b(_),o=d(_,"DIV",{class:!0});var O=g(o);c=d(O,"DIV",{class:!0});var U=g(c);m=d(U,"SPAN",{class:!0});var H=g(m);B=j(H,T),H.forEach(i),G=b(U),v=d(U,"SPAN",{class:!0});var z=g(v);P=d(z,"SPAN",{});var Q=g(P);q=j(Q,k),Q.forEach(i),F=b(z),N=d(z,"SPAN",{});var X=g(N);M=j(X,V),X.forEach(i),z.forEach(i),U.forEach(i),J=b(O),h=d(O,"DIV",{class:!0,contenteditable:!0,placeholder:!0}),g(h).forEach(i),O.forEach(i),_.forEach(i),this.h()},h(){x(e.src,r=l[1])||f(e,"src",r),f(e,"alt",n=l[0].name),f(e,"class","svelte-oaen12"),f(a,"class","image svelte-oaen12"),f(m,"class","primary svelte-oaen12"),f(v,"class","secondary svelte-oaen12"),f(c,"class","header svelte-oaen12"),f(h,"class","commentcontent svelte-oaen12"),f(h,"contenteditable","true"),f(h,"placeholder","Type content here..."),l[0].content===void 0&&se(()=>l[4].call(h)),f(o,"class","body"),f(t,"class","commentcontainer svelte-oaen12")},m($,_){D($,t,_),u(t,a),u(a,e),u(t,s),u(t,o),u(o,c),u(c,m),u(m,B),u(c,G),u(c,v),u(v,P),u(P,q),u(v,F),u(v,N),u(N,M),u(o,J),u(o,h),l[0].content!==void 0&&(h.textContent=l[0].content),K||(W=oe(h,"input",l[4]),K=!0)},p($,_){_&2&&!x(e.src,r=$[1])&&f(e,"src",r),_&1&&n!==(n=$[0].name)&&f(e,"alt",n),_&1&&T!==(T=$[0].name+"")&&R(B,T),_&1&&k!==(k=$[0].publicID+"")&&R(q,k),_&1&&V!==(V=new Date($[0].creationTimeStamp).toLocaleString()+"")&&R(M,V),_&1&&$[0].content!==h.textContent&&(h.textContent=$[0].content)},d($){$&&i(t),K=!1,W()}}}function he(l){let t;return{c(){t=L("Update Comment")},l(a){t=j(a,"Update Comment")},m(a,e){D(a,t,e)},d(a){a&&i(t)}}}function ge(l){let t,a,e,r,n;return t=new fe({props:{$$slots:{default:[he]},$$scope:{ctx:l}}}),{c(){w(t.$$.fragment),a=I(),e=p("i"),r=L("arrow_forward"),this.h()},l(s){E(t.$$.fragment,s),a=b(s),e=d(s,"I",{class:!0,"aria-hidden":!0});var o=g(e);r=j(o,"arrow_forward"),o.forEach(i),this.h()},h(){f(e,"class","material-icons"),f(e,"aria-hidden","true")},m(s,o){C(t,s,o),D(s,a,o),D(s,e,o),u(e,r),n=!0},p(s,o){const c={};o&256&&(c.$$scope={dirty:o,ctx:s}),t.$set(c)},i(s){n||(S(t.$$.fragment,s),n=!0)},o(s){y(t.$$.fragment,s),n=!1},d(s){A(t,s),s&&i(a),s&&i(e)}}}function ve(l){let t,a;return t=new ie({props:{$$slots:{default:[ge]},$$scope:{ctx:l}}}),t.$on("click",l[2]),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){C(t,e,r),a=!0},p(e,r){const n={};r&256&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){a||(S(t.$$.fragment,e),a=!0)},o(e){y(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function Ie(l){let t,a,e,r;return t=new ce({props:{class:"mdc-typography--body2",$$slots:{default:[_e]},$$scope:{ctx:l}}}),e=new me({props:{fullBleed:!0,$$slots:{default:[ve]},$$scope:{ctx:l}}}),{c(){w(t.$$.fragment),a=I(),w(e.$$.fragment)},l(n){E(t.$$.fragment,n),a=b(n),E(e.$$.fragment,n)},m(n,s){C(t,n,s),D(n,a,s),C(e,n,s),r=!0},p(n,s){const o={};s&259&&(o.$$scope={dirty:s,ctx:n}),t.$set(o);const c={};s&256&&(c.$$scope={dirty:s,ctx:n}),e.$set(c)},i(n){r||(S(t.$$.fragment,n),S(e.$$.fragment,n),r=!0)},o(n){y(t.$$.fragment,n),y(e.$$.fragment,n),r=!1},d(n){A(t,n),n&&i(a),A(e,n)}}}function be(l){let t,a;return t=new le({props:{$$slots:{default:[Ie]},$$scope:{ctx:l}}}),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){C(t,e,r),a=!0},p(e,[r]){const n={};r&259&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){a||(S(t.$$.fragment,e),a=!0)},o(e){y(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function De(l,t,a){let e,r;Z(l,pe,m=>a(5,e=m)),Z(l,ue,m=>a(1,r=m));let{parentID:n}=t,{comment:s={parentID:n,name:e.data.user.name,publicID:e.data.user.publicID,profileImage:e.data.user.profile,content:"",comments:[],images:[],creationTimeStamp:Date.now()}}=t;const o=async()=>{if(!(await fetch(`/api/${e.data.user.publicID}/compose/comment`,{method:"PUT",body:JSON.stringify(s),headers:{"content-type":"application/json"}})).ok){alert("Failed to create comment");return}de(`/post/${s.parentID}`)};function c(){s.content=this.textContent,a(0,s)}return l.$$set=m=>{"parentID"in m&&a(3,n=m.parentID),"comment"in m&&a(0,s=m.comment)},[s,r,o,n,c]}class we extends ee{constructor(t){super(),te(this,t,De,be,ae,{parentID:3,comment:0})}}function Ee(l){let t,a,e,r,n,s;return n=new we({props:{comment:l[0].comment}}),{c(){t=p("link"),a=p("meta"),e=I(),r=p("article"),w(n.$$.fragment),this.h()},l(o){const c=re("svelte-1p8nxr8",document.head);t=d(c,"LINK",{rel:!0,href:!0}),a=d(c,"META",{name:!0,content:!0}),c.forEach(i),e=b(o),r=d(o,"ARTICLE",{});var m=g(r);E(n.$$.fragment,m),m.forEach(i),this.h()},h(){document.title="Edit comment",f(t,"rel","canonical"),f(t,"href","https://satirigal.com/edit/comment"),f(a,"name","description"),f(a,"content","Trending Comment.")},m(o,c){u(document.head,t),u(document.head,a),D(o,e,c),D(o,r,c),C(n,r,null),s=!0},p(o,[c]){const m={};c&1&&(m.comment=o[0].comment),n.$set(m)},i(o){s||(S(n.$$.fragment,o),s=!0)},o(o){y(n.$$.fragment,o),s=!1},d(o){i(t),i(a),o&&i(e),o&&i(r),A(n)}}}function Ce(l,t,a){let{data:e}=t;return l.$$set=r=>{"data"in r&&a(0,e=r.data)},[e]}class Be extends ee{constructor(t){super(),te(this,t,Ce,Ee,ae,{data:0})}}export{Be as component,je as universal};
