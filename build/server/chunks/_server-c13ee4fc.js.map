{"version":3,"file":"_server-c13ee4fc.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/_publicID_/invoices/_invoiceID_/_server.js"],"sourcesContent":["import { g as getDBCollection } from \"../../../../../../chunks/mongo.js\";\nimport { e as error } from \"../../../../../../chunks/index.js\";\nasync function GET({ url, params, request, locals }) {\n  if (!locals.user) {\n    return error(401, \"Unauthorized\");\n  }\n  const publicID = locals.user.publicID;\n  const invoiceID = params.invoiceID;\n  const paymentCollection = await getDBCollection(\"payments\");\n  let invoice = await paymentCollection.findOne({ publicID, payment_id: invoiceID });\n  if (!invoice) {\n    return error(404, \"Invoice not found\");\n  }\n  return new Response(JSON.stringify(invoice));\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;AAEA,eAAe,GAAG,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE;AACrD,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;AACpB,IAAI,OAAO,KAAK,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;AACtC,GAAG;AACH,EAAE,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;AACxC,EAAE,MAAM,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;AACrC,EAAE,MAAM,iBAAiB,GAAG,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;AAC9D,EAAE,IAAI,OAAO,GAAG,MAAM,iBAAiB,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,CAAC;AACrF,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,OAAO,KAAK,CAAC,GAAG,EAAE,mBAAmB,CAAC,CAAC;AAC3C,GAAG;AACH,EAAE,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;AAC/C;;;;"}